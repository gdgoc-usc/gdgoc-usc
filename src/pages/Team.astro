---
import {
  leadership,
  externalRelations,
  humanresources,
  marketing,
  operations,
  finance,
  technology,
} from '@/config/team.data';
import '@/styles/team-masonry.css';

const allTeamMembers = [
  ...leadership.map(member => ({
    ...member,
    displayName: member.name,
    department: 'Leadership',
    departmentClass: 'leadership',
  })),
  ...externalRelations.map(member => ({
    ...member,
    displayName: member.name,
    department: 'External Relations',
    departmentClass: 'external-relations',
  })),
  ...humanresources.map(member => ({
    ...member,
    displayName: member.name,
    department: 'External Relations',
    departmentClass: 'external-relations',
  })),
  ...marketing.map(member => ({
    ...member,
    displayName: member.name,
    department: 'Marketing',
    departmentClass: 'marketing',
  })),
  ...operations.map(member => ({
    ...member,
    displayName: member.name,
    department: 'Operations',
    departmentClass: 'operations',
  })),
  ...finance.map(member => ({
    ...member,
    displayName: member.name,
    department: 'Finance',
    departmentClass: 'finance',
  })),
  ...technology.map(member => ({
    ...member,
    displayName: member.name,
    department: 'Technology',
    departmentClass: 'technology',
  })),
];
---

<section
  id='team'
  class='relative w-full min-h-screen flex flex-col items-center justify-center py-12 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800'
>
  <div class='relative z-10 container px-4 sm:px-6 lg:px-8 w-full'>
    <div class='w-full'>
      <div class='text-center my-14'>
        <div class='flex flex-col gap-2'>
          <h1
            class='text-4xl md:text-6xl font-bold text-black dark:text-white mb-4 tracking-tighter'
          >
            Our Team
          </h1>
        </div>
        <p
          class='text-xl sm:text-2xl md:text-3xl text-gray-700 dark:text-gray-200 leading-relaxed mb-8 max-w-4xl mx-auto'
        >
          Meet the dedicated leaders driving innovation and community at
          <strong class='text-black dark:text-white'>
            Google Developer Groups USC</strong
          >
        </p>
      </div>
    </div>
  </div>

  <div class='w-full relative'>
    <div class='team-masonry'>
      {
        allTeamMembers.map(member => (
          <div
            class={`team-member-card ${member.departmentClass} ${
              member.imageUrl ? 'has-image' : ''
            }`}
          >
            {member.imageUrl ? (
              <>
                <img
                  src={member.imageUrl}
                  alt={`${member.displayName} - ${member.role}`}
                  class='team-member-image'
                  loading='lazy'
                />
                <div class='team-member-overlay'>
                  <div class={`department-badge overlay`}>
                    {member.department}
                  </div>
                  <h3 class='member-role overlay'>{member.role}</h3>
                  <p class='member-name overlay'>{member.displayName}</p>
                </div>
              </>
            ) : (
              <div
                class='placeholder-card'
                style='background-image: url(/gdgoc_bg_3.webp); background-size: cover; background-position: center;'
              >
                <div class='coming-soon-text'>
                  <h2 class='text-2xl font-bold text-black drop-shadow-lg'>
                    Coming Soon!
                  </h2>
                </div>
                <div class='team-member-overlay-no-image'>
                  <div class={`department-badge ${member.departmentClass}`}>
                    {member.department}
                  </div>
                  <h3 class='member-role no-image'>{member.role}</h3>
                  <p class='member-name no-image'>{member.displayName}</p>
                </div>
              </div>
            )}
          </div>
        ))
      }
    </div>
  </div>

  <div class='relative z-10 container px-4 sm:px-6 lg:px-8 w-full'>
    <div class='text-center mt-16'>
      <div
        class='p-6 bg-gradient-to-r from-gdgoc-primary-green/5 to-gdgoc-secondary-green/5 rounded-xl border border-gdgoc-primary-green/20 max-w-4xl mx-auto backdrop-blur-sm'
      >
        <p class='text-lg text-gray-600 dark:text-gray-300 leading-relaxed'>
          Our diverse team brings together expertise from various fields to
          create an inclusive, innovative, supportive environment for student
          developers at USC.
        </p>
      </div>
    </div>
  </div>
</section>
